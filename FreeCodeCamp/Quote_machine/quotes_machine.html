<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Quote-Machine</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link rel="stylesheet" href="quotes.css">
  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="https://use.fontawesome.com/0694bcade9.js"></script>
</head>
<body>
  <script>
  var quoteNumber = -1;
  var currentQuote;
  var currentAuthor;
    function getNextQuote () {
      $.getJSON("quotes.json", function (json){
        var ind = Math.floor(Math.random()*json.quotes.length);
        while (quoteNumber === ind) {
          ind = Math.floor(Math.random()*json.quotes.length);
        }
        quoteNumber = ind;
        currentQuote = json.quotes[ind].quote;
        currentAuthor = json.quotes[ind].author
        $("#quoteContent").html("<blockquote><p>" + currentQuote +"</p><footer>" + currentAuthor + "</footer></blockquote>");
      });
    }
    $(document).ready(function() {
      getNextQuote();
      $("#nextQuote").on("click", function() {
        getNextQuote();
      })
      $("#tweetQuote").on("click", function() {
        if (currentQuote.length > 100) {
          currentQuote = currentQuote.slice(0, 100) + "..."
        }
        $("#tweetQuote").attr('href', 'https://twitter.com/intent/tweet?text=' + '"' + currentQuote + '" - ' + currentAuthor)
        ;
      })
    })

  </script>

<div class="container-fluid">
<div class="jumbotron vertical-center">
  <div class="row text-center">
    <h1 >Random Clever Quote</h1>
  </div>
  <div class="row text-center">
    <div id="quoteContent" class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
    </div>
  </div>
  <div class="row text-center">
    <div class="col-xs-12">
      <button id="nextQuote" class="btn btn-default">Another Quote</button>
      </div>
      <div>
      <a id="tweetQuote" class="btn btn-lg" title="Tweet this quote!" role="button">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span></a>
    </div>
  </div>
  </div>
</div>

</body>
</html>

<!-- font-family: 'Lato', sans-serif; -->